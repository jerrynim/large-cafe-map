# 대형카페 목록 수집 및 필터링 과정

## 1. 개요

서울/경기 지역의 대형카페(100㎡ 이상) 목록을 공공데이터에서 수집하고, 실제 카페만 필터링하여 최종 목록을 생성함.

### 최종 결과
- **서울_대형카페.json**: 146개
- **경기_대형카페.json**: 2,113개
- **대형카페_final.json**: 2,259개 (통합)

---

## 2. 데이터 수집

### 2.1 데이터 소스
- **공공데이터포털 API**: 지방행정인허가데이터 (휴게음식점)
- 서울: `scripts/get-seoul-cafes.js`
- 경기: `scripts/get-gyeongi-cafes.js`

### 2.2 수집 조건
- 업태: 다방, 카페 등 (UPTAENM)
- 면적: 100㎡ 이상 (SITEAREA)
- 영업상태: 영업중

### 2.3 수집 결과
| 지역 | 원본 수 |
|------|---------|
| 서울 | 788개 |
| 경기 | 5,562개 |
| **합계** | **6,350개** |

---

## 3. 1차 필터링 (패턴 기반)

### 3.1 스크립트
`scripts/filter-cafes.js`

### 3.2 제외 대상

#### 비카페 업종
- 패스트푸드: 맥도날드, 버거킹, 롯데리아, KFC, 써브웨이, 피자헛, 도미노피자 등
- 코스트코/트레이더스 계열
- 구내식당/카페테리아
- 만화카페/보드게임카페 (놀숲, 벌툰, 아키바코믹스 등)
- 키즈카페 (타요더카페, 아이노리, 로라바운스 등)
- 동물카페 (개떼월드 등)
- 골프장 (스크린골프, 골프존)
- 음식점 (국수나무, 삼동소바, 아웃백 등)
- 로비라운지
- 기타 (웨딩하우스, 가톨릭회관, 세라젬, 보훈병원상조회 등)

#### 브랜드 카페 (체인점 제외)
- 커피: 스타벅스, 투썸플레이스, 이디야, 할리스, 커피빈, 컴포즈, 메가커피, 빽다방, 폴바셋, 공차 등
- 디저트: 설빙, 배스킨라빈스, 던킨도너츠, 하겐다즈 등
- 베이커리: 파리바게뜨, 뚜레쥬르 등
- 기타: 오설록, 테라로사 등

### 3.3 1차 필터링 결과
| 지역 | 제외 | 검토필요 |
|------|------|----------|
| 서울 | 395개 | 393개 |
| 경기 | 2,330개 | 3,232개 |
| **합계** | **2,725개** | **3,625개** |

---

## 4. 2차 필터링 (네이버 API 검증)

### 4.1 스크립트
`scripts/verify-cafes-naver.js`

### 4.2 사용 API
- **네이버 지역 검색 API** (https://openapi.naver.com/v1/search/local.json)
- 하루 25,000회 무료
- 응답의 `category` 필드로 업종 판단

### 4.3 분류 기준

#### 카페로 판단하는 카테고리
```
카페, 커피, 디저트, 베이커리, 빵, 케이크, 베이글, 도넛, 마카롱,
차, 티, 음료, 브런치, 샌드위치, 토스트, 와플, 쿠키, 제과
```

#### 비카페로 판단하는 카테고리
```
음식점, 한식, 중식, 일식, 양식, 분식, 패스트푸드, 치킨, 피자,
족발, 보쌈, 삼겹살, 갈비, 곱창, 국밥, 냉면, 칼국수, 라멘,
술집, 호프, 주점, 노래방, PC방, 게임, 당구, 볼링, 골프,
병원, 약국, 은행, 학원, 마트, 편의점 등
```

### 4.4 2차 필터링 결과
| 분류 | 수량 |
|------|------|
| 카페 확정 | 2,259개 |
| 비카페 확정 | 655개 |
| 판단 불가 | 711개 |
| **합계** | **3,625개** |

---

## 5. 최종 결과물

### 5.1 파일 목록

| 파일 | 설명 | 수량 |
|------|------|------|
| `서울_대형카페.json` | 서울 지역 최종 카페 목록 | 146개 |
| `경기_대형카페.json` | 경기 지역 최종 카페 목록 | 2,113개 |
| `대형카페_final.json` | 통합 최종 목록 | 2,259개 |

### 5.2 데이터 구조
```json
{
  "BPLCNM": "카페명",
  "SITEAREA": "면적(㎡)",
  "X": "경도 좌표",
  "Y": "위도 좌표",
  "UPTAENM": "업태명",
  "region": "서울 또는 경기"
}
```

---

## 6. 폴더 구조

```
cafe-map/
├── scripts/
│   ├── get-seoul-cafes.js      # 서울 데이터 수집
│   ├── get-gyeongi-cafes.js    # 경기 데이터 수집
│   ├── filter-cafes.js         # 1차 패턴 필터링
│   └── verify-cafes-naver.js   # 2차 네이버 API 검증
├── filtered/
│   ├── 서울_제외.json          # 1차 제외 (서울)
│   ├── 서울_검토필요.json      # 2차 검토 대상 (서울)
│   ├── 경기_제외.json          # 1차 제외 (경기)
│   ├── 경기_검토필요.json      # 2차 검토 대상 (경기)
│   ├── verified_카페확정.json  # 2차 카페 확정
│   ├── verified_비카페확정.json # 2차 비카페 확정
│   └── verified_판단불가.json  # 2차 판단 불가
├── 대형카페_list.json          # 서울 원본 데이터
├── 경기_대형카페_list.json     # 경기 원본 데이터
├── 서울_대형카페.json          # ⭐ 최종 (서울)
├── 경기_대형카페.json          # ⭐ 최종 (경기)
├── 대형카페_final.json         # ⭐ 최종 (통합)
└── design.md                   # 이 문서
```

---

## 7. 개선 가능 사항

1. **판단불가 711개 수동 검토**: 네이버 검색 결과가 없거나 카테고리가 불명확한 항목
2. **좌표 변환**: 현재 좌표계(TM 또는 기타)를 WGS84로 변환 필요
3. **추가 정보**: 주소, 전화번호, 영업시간 등 추가 가능
4. **지도 시각화**: Kakao/Naver Map API로 지도에 표시
